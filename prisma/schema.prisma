// ==================== WINES - UPDATED STRUCTURE ====================

model WineCategory {
  id    Int    @id @default(autoincrement())
  name  String @db.VarChar(50) // "House Wines", "White Wines", "Ros√© Wines", "Red Wines"
  nameEn String @db.VarChar(50) // "house", "white", "rose", "red"
  order Int    @default(0)
  wines Wine[]

  @@map("wine_categories")
}

model Wine {
  id          Int          @id @default(autoincrement())
  categoryId  Int          @map("category_id")
  name        String       @db.VarChar(200)
  country     String?      @db.VarChar(50) // Italy, France, Spain, null for house wines
  
  // House wines have these prices
  glassPrice   Decimal?    @map("glass_price") @db.Decimal(5, 2)      // Vin au verre
  pitcher25cl  Decimal?    @map("pitcher_25cl") @db.Decimal(5, 2)     // Pichet 1/4l
  pitcher50cl  Decimal?    @map("pitcher_50cl") @db.Decimal(5, 2)     // Pichet 1/2l
  pitcher1l    Decimal?    @map("pitcher_1l") @db.Decimal(5, 2)       // Pichet 1l
  
  // Premium wines have these prices
  halfBottle   Decimal?    @map("half_bottle") @db.Decimal(5, 2)      // 37.5cl (0.5cl column in menu)
  fullBottle   Decimal?    @map("full_bottle") @db.Decimal(5, 2)      // 75cl (1cl column in menu)
  
  available    Boolean     @default(true)
  createdAt    DateTime    @map("created_at") @default(now()) @db.DateTime(0)

  category     WineCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@map("wines")
}